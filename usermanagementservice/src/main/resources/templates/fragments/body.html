<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	<meta charset="UTF-8">
	</head>
	<body>
		<div class="container">
		
			<div class="row">
				<esi:include src="/common/navbar-1.0" />
			</div>
			
			<div class="row">
				<div id ="welcomeText">
				<p>Herzlich Willkommen auf der Seite vom Park and Charge System.</p>
				<p>Damit Sie das System nutzen können, müssen Sie sich im System registrieren.</p>
				</div>
			</div>
			
			<div class="row">
				<div id="createUser">
					<div th:switch="${users}">
    					<h2 th:case="null">Zurzeit sind keine Benutzer registriert!</h2>
					        <div th:case="*">
					            <h2>Benutzer</h2>
					            <table class="table table-bordered table-striped">
					                <thead class="thead-dark">
					                    <tr>
					                        <th scope="col">Vorname</th>
					                        <th scope="col">Nachname</th>
					                        <th scope="col">E-Mail</th>
					                    </tr>
					                </thead>
					                <tbody>
					                <tr th:each="user : ${users}">
					                    <td th:text="${user.firstName}"></td>
					                    <td th:text="${user.lastName}"></td>
					                    <td th:text="${user.email}"></td>
				                     	<td><a th:href="@{/users/delete/{id}(id=${user.id})}">Löschen</a></td>
					                </tr>
					            </tbody>
					        </table>
					    </div>      
    					<p><a href="/users/register">Neuen Benutzer hinzufügen</a></p>
					</div>
				</div>
			</div>
			
		</div>
		
		<!-- Implementierung, um zwischen vorhanden und aktiven Tabs zu wechseln, ohne neuen Tab im Browser öffnen zu müssen.
	     Quelle: https://stackoverflow.com/questions/25661543/how-to-know-if-browser-tab-is-already-open-using-javascript
	     Zuletzt zugegriffen am: 18.07.2019 -->
		<script type="text/javascript">
		window.onload = function(){
			  var a = document.querySelectorAll('.opener'), w = [], url, i;
			  for(i = 0; i < a.length; i++){
			    (function(i){
			      a[i].onclick = function(e) {
			        if (!w[i] || w[i].closed) {
			          url = this.href;
			          w[i] = window.open(url);
			        } else {
			          console.log('window ' + url + ' is already opened');
			        }
			        e.preventDefault();
			        w[i].focus();
			      };
			    })(i);
			  }
			};
		</script>
	</body>
</html>